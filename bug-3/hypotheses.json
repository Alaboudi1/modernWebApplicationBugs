{
    "evidence": {
        "API_calls": [
            {
                "functionName": "preventDefault",
                "pattern": "$E.preventDefault()",
                "id": "API_1",
                "description": "the default behavior for the event was prevented"
            },
            {
                "functionName": "useState",
                "patterns": [
                    {
                        "pattern": "$Y = {...}\n...\n$X($Y)"
                    }
                ],
                "id": "API_2",
                "description": "the state was updated inccorectly"
            }
        ],
        "DOM_events": [
            {
                "objectShape": {
                    "InputType": "submit",
                    "type": "click"
                },
                "id": "EVENT_1",
                "description": "the default behavior for the event was prevented"
            },
            {
                "objectShape": {
                    "InputType": "text",
                    "type": "keydown"
                },
                "id": "EVENT_2",
                "description": "the default behavior for the event was prevented"
            },
            {
                "objectShape": {
                    "type": "keydown"
                },
                "id": "EVENT_4",
                "description": "the default behavior for the event was prevented"
            },
            {
                "objectShape": {
                    "type": "mutation"
                },
                "id": "EVENT_3",
                "description": "the default behavior for the event was prevented"
            }
        ],
        "Network_events": [
            {
                "objectShape": {
                    "type": "responseReceived",
                    "mimeType": "text/html"
                },
                "id": "NETWORK_1",
                "description": "the default behavior for the event was prevented"
            }
        ]
    },
    "hypotheses": [
        {
            "id": "HYPOTHESIS_1",
            "hypothesis": "You are not using 'preventDefault' API to prevent the default behavior of the submit button.",
            "description": "When you use the submit button inside a form, the default behavior is to send the form data to the server and load a new page. However, this may not be the desired behavior, especially in React apps where you want to partially update the page.",
            "evidence": [
                {
                    "rule": "EVENT_2",
                    "description": "The first thing you did was typing in the input box.",
                    "isFound": true,
                    "DoesContainTheDefect": false,
                    "CodeExample": null,
                    "links": null
                },
                {
                    "rule": "EVENT_1",
                    "description": "The you clicked on the submit button, which triggered a submit event.",
                    "isFound": true,
                    "DoesContainTheDefect": false,
                    "CodeExample": null,
                    "links": null
                },
                {
                    "rule": "API_1",
                    "description": "However, you did not use the preventDefault API to prevent the default behavior of the submit button. This often happen inside onSubmit event handler inside the form.",
                    "isFound": false,
                    "DoesContainTheDefect": true,
                    "HowToFix": {
                        "steps": [
                            {
                                "description": "Start by searching for the onSubmit event handler inside the form inside this file.",
                                "relatedEvidenceLocation": "EVENT_1"
                            },
                            {
                                "description": "Inside the onSubmit event handler, add the preventDefault API to prevent the default behavior of the submit button.",
                                "codeExample": "const XXXXX = (E)=>{\n E.preventDefault() // <-- use this API inside the onSubmit callback\n}"
                            },
                            {
                                "description": "Now, when you click on the submit button, the page will not be reloaded."
                            }
                        ],
                        "links": [
                            {
                                "title": "Understanding React's preventdefault()",
                                "url": "https://sebhastian.com/react-preventdefault/#:~:text=To%20cancel%20the%20native%20behavior%20of%20the%20submit,inside%20handleSubmit%20will%20be%20run%20by%20the%20browser."
                            },
                            {
                                "title": "React Official Docs for Handling Events",
                                "url": "https://reactjs.org/docs/handling-events.html#:~:text=this%20could%20instead%20be"
                            },
                            {
                                "title": "MDN preventDefault",
                                "url": "https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault#syntax"
                            }
                        ]
                    }
                },
                {
                    "rule": "EVENT_3",
                    "description": "The user interface removed the current UI elements and waited for the content to be loaded from the server.",
                    "isFound": true,
                    "DoesContainTheDefect": false,
                    "CodeExample": null,
                    "links": null
                },
                {
                    "rule": "NETWORK_1",
                    "description": "The browser sent and received the data from the localhost server. However, this caused the page to reload since the submit behaior was not prevented.",
                    "isFound": true,
                    "DoesContainTheDefect": false,
                    "CodeExample": null,
                    "links": null
                },
                {
                    "rule": "EVENT_3",
                    "description": "The user interface was forced to render the initial state of the app after the page was reloaded.",
                    "isFound": true,
                    "DoesContainTheDefect": false,
                    "CodeExample": null,
                    "links": null
                }
            ]
        },
        {
            "id": "HYPOTHESIS_2",
            "hypothesis": "You are not using 'preventDefault' API to prevent the default behavior of the submit button.",
            "description": "When you use the submit button inside a form, the default behavior is to send the form data to the server and load a new page. However, this may not be the desired behavior, especially in React apps where you want to partially update the page.",
            "evidence": [
                {
                    "rule": "EVENT_4",
                    "description": "You pressed keydown event on the input box.",
                    "isFound": true,
                    "DoesContainTheDefect": false
                },
                {
                    "rule": "API_2",
                    "description": "You typed something in the input field.",
                    "isFound": true,
                    "DoesContainTheDefect": true,
                    "HowToFix": {
                        "steps": [
                            {
                                "description": "You need to create a entirely new object for the state variable before you pass it to the setState API. This code should be place inside the file above within the highlighed area.",
                                "codeExample": "newObject = {...oldObject, updatedProperty: newValue} \n setState(newObject)"
                            },
                            {
                                "description": "Please remove the code that directly modifies the state variable.",
                                "codeExample": "oldObject.updatedProperty = newValue //<-- remove this line(s)"
                            },
                            {
                                "description": "Now, when should get the expected behavior."
                            }
                        ],
                        "links": [
                            {
                                "title": "Updating Objects in State",
                                "url": "https://beta.reactjs.org/learn/updating-objects-in-state"
                            },
                            {
                                "title": "Using React useState with an object",
                                "url": "https://blog.logrocket.com/using-react-usestate-object/"
                            },
                            {
                                "title": "Update nested properties in a State object in React",
                                "url": "https://bobbyhadz.com/blog/react-update-nested-state-object-property"
                            }
                        ]
                    }
                },
                {
                    "rule": "EVENT_3",
                    "description": "The user interface was forced to render the initial state of the app after the page was reloaded.",
                    "isFound": true,
                    "DoesContainTheDefect": false
                }
            ]
        }
    ]
}